
<!DOCTYPE html>
<html>
<head>
	<title>注册</title>
     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
   <metahttp-equiv="X-UA-Compatible"content="IE=9; IE=8; IE=7; IE=EDGE">  
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
   <meta name="renderer" content="webkit">

   <link href="__BOOTSTRAP__/css/bootstrap.min.css" rel="stylesheet">
   <link href="__CSS__/login.css" rel="stylesheet">
   <link rel="shortcut icon" href="school_logo.ico" >

   <script src="__JS__/jquery.min.js"></script>
   <script src="__BOOTSTRAP__/js/bootstrap.min.js"></script>
</head>
<script type="text/javascript"> 
/*ajax验证*/
  $(function(){ 
    $('input:button').click(function(){ 
      var $username=$('input[name="username"]').val(); //val() 方法返回或设置被选元素的值。
      var $nickname=$('input[name="nickname"]').val(); 
      var $password=$('input[name="password"]').val();
      var myreg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;

      $mess=$('#mess');//选择id=mess的元素
      $mess.slideDown(150,function(){     
          }).html('<img src="__IMAGES__/loading.gif">');

      if($username=="")
      {
        $mess.slideDown(150,function(){     
          }).html('同学你还没有输入邮箱');
      }

      else if(!myreg.test($username))
      {
        $mess.slideDown(150,function(){     
          }).html('邮箱格式不正确');
      }

      else if($password=="")
      {
        $mess.slideDown(150,function(){     
          }).html('同学你还没有输入密码');
      }

      else if($password.length<6)
      {
        $mess.slideDown(150,function(){     
          }).html('同学密码不能少于6位');
      }

      else if($nickname=="")
      {
          $mess.slideDown(150,function(){     
          }).html('同学你还没有输入昵称');
      }

      else
      {
      //通过 HTTP GET 请求载入 JSON 数据。
      $.getJSON('__URL__/add_pass',{usernumber:$username,password:$password,username:$nickname},function(json){ 
        //alert(json);return false; 
        if(json.status==1)
        { 
          window.location.href='__APP__/First/index2'; 
        }

        else if(json.status==2)
        {
          $mess.slideDown(150,function(){     
          }).html('同学这个邮箱已注册过了,你可以找回密码'); 

        }
        else
        { 
          $mess.slideDown(150,function(){ //slideDown() 方法通过使用滑动效果，显示隐藏的被选元素。
          }).html('注册失败');   
        }     
      }); 
    }
    })   
  }) 




  /*
  // +----------------------------------------------------------------------
  // |                       过滤特殊字符                                  |
  // +----------------------------------------------------------------------
  */

      function ValidateValue(textbox)
      {
           var IllegalString = "\`~#;,!#$%^&*()+{}|\\:\"<>?-=/,\'";
           var textboxvalue = textbox.value;
           var index = textboxvalue.length - 1;
           
           var s = textbox.value.charAt(index);
           
           if(IllegalString.indexOf(s)>=0)
           {
              s = textboxvalue.substring(0,index);
              textbox.value = s;
           }
      }
</script> 
<body>

    <div class="top">

        <div class="top_center">
        <img style="float:left; margin-right:30px;" src="__IMAGES__/school_life.png">
        <ul>
          <a href="__APP__/First/index2"><li class="look">主页</li></a>
          <a href="__APP__/Message"><li>校园信息发布</li></a>
          <a href="__APP__/Part"><li>校园活动发布</li></a>
          <a href="__APP__/School"><li>校园社区</li></a>
        </ul>
        </div> 
 
    </div>


<!--......................................................................................-->

<div class="login">
<div class="title"><a href="__APP__/User/login">登录</a>&nbsp&nbsp·&nbsp&nbsp注册</div>
<center>
    <div id="mess"  style="display:none; color:red; height:20px;">
      <img src="__IMAGES__/loding.gif">
    </div>

    <form action='' method='post'>
      <ul>
          <li><span class="glyphicon glyphicon-envelope"></span><input onkeyup="ValidateValue(this)" type="text" placeholder="邮箱,找回密码时会使用这个邮箱" name="username" /><br/></li>
          <li><span class="glyphicon glyphicon-heart"></span><input onkeyup="ValidateValue(this)" type="text" placeholder="昵称" name="nickname" /><br/></li>        
          <li><span class="glyphicon glyphicon-lock"></span><input onkeyup="ValidateValue(this)" type="password" placeholder="密码" name="password" onpaste="return false"/><br/> </li>
          <input class="submit" type="button" value="提交" /><br><br>
      </ul>     
    </form> 
</center>    
</div>


<!--...................。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。-->
<div class="bottom">
<div class="b">
  <div class="b_l">
      校园生活网是一个完全免费的校园生活类网站，<br>
      从建设以来立志为同学们提供最便捷的校园生活服务;<br>
      网站如今由华软软件学院梁宝承开发与维护,<br>
      非常欢迎有兴趣的同学前来加入，一起进步；
  </div>    
    <div class="b_r">
    <div class="buttom_right_ico">
      <img style=" margin-right:5px;" src="__IMAGES__/qq.png">706598228
      </div>
      <div class="buttom_right_ico">
      <img style=" margin-right:5px;" src="__IMAGES__/wechat.png">runfiy
      </div>
      <img style="float:right;position:relative; top:-110px; left:-50px;" src="__IMAGES__/code.jpg">
    </div>  
    <div class="b_b">
    <a href="#">关于我们</a>&nbsp|&nbsp
    <a href="#">源码下载</a>&nbsp|&nbsp 
    <a href="#">联系我们</a>&nbsp|&nbsp
    <a href="#">友情链接</a>
    </div> 
</div> 
</div>
</body>
</html>
